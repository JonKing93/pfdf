Gartner 2014 Models
===================

The ``gartner2014`` (or ``g14``) module provides two functions that implement the potential sediment volume models of `Gartner et al., 2014 <https://doi.org/10.1016/j.enggeo.2014.04.008>`_. In brief, these are a long-term and emergency assessment model.

Emergency Assessment Model
--------------------------

This model is given by:

.. math::

    V = \mathrm{exp}[4.22 + 0.39\ \mathrm{sqrt}(i15) + 0.36\ \mathrm{ln}(Bmh) + 0.13\ \mathrm{sqrt}(R)]

where:

.. list-table::

    * - **Variable**
      - **Description**
      - **Units**
    * - V
      - Potential sediment volume
      - meters^3
    * - i15
      - Peak 15-minute rainfall intensity
      - mm/hour
    * - Bmh
      - Catchment area burned at moderate or high intensity
      - km^2
    * - R
      - Watershed relief
      - meters

You can run this model using the ``emergency`` function. For example, assuming you have already built a stream segment network::

    >>> from pfdf.models import g14
    >>> from pfdf import severity, watershed

    >>> i15 = 0.24
    >>> moderate_high = severity.mask(barc4, ["moderate","high"])
    >>> Bmh = segments.burned_area(moderate_high)
    >>> relief = watershed.relief(dem, flow)
    >>> R = segments.relief(relief)

    >>> V = g14.emergency(i15, Bmh, R)

You can also use the "Ci", "Cb", "Cr", and "B" options to change the values of the model coefficients and intercept::

    >>> V = g14.emergency(i15, Bmh, R, B=4.23, Ci=0.38, Cb=0.35, Cr=0.12)


Long-term Model
---------------
This model is given by:

.. math::

    V = \mathrm{exp}[6.07 + 0.71\ \mathrm{ln}(i60) + 0.22\ \mathrm{ln}(B_t) - 0.24\ \mathrm{ln}(T) + 0.49\ \mathrm{ln}(A) + 0.03\ \mathrm{sqrt}(R)]

where

.. list-table::

    * - **Variable**
      - **Description**
      - **Units**
    * - V
      - Potential sediment volume
      - meters^3
    * - i60
      - Peak 60-minute rainfall intensity
      - mm/hour
    * - Bt
      - Total burned catchment area
      - km^2
    * - T
      - Time elapsed since fire
      - years
    * - A
      - Total catchment area
      - km^2
    * - R
      - Watershed relief
      - meters

You can run this model using the ``longterm`` function. For example, assuming you have already built a stream segment network::

    >>> from pfdf.models import g14
    >>> from pfdf import severity

    >>> i60 = 0.96
    >>> burned = severity.mask(barc4, "burned")
    >>> Bt = segments.burned_area(burned)
    >>> T = 2
    >>> A = segments.area()
    >>> R = segments.relief(relief)

    >>> V = g14.longterm(i60, Bt, T, A, R)

You can also use the "Ci", "Cb", "Ct", "Ca", "Cr", and "B" options to change the values of the model coefficients and intercept::

    >>> V = g14.longterm(i60, Bt, T, A, R, B=6.08, Ci=0.72, Cb=0.21, Ct=0.25, Ca=0.48, Cr=0.04)